---
---
// Overall
body
  display: flex
  min-height: 100vh
  flex-direction: column

a
  color: #bdbdbd

a:hover
  text-decoration: underline

a:active
  text-decoration: underline

main
  flex: 1 0 auto
  background-image: url('../res/subtle.jpg') !important
  background-repeat: repeat
  background-size: auto
  background-position: center


.container
  width: 90%

// Header
header
  height: 110px

  a:hover
    text-decoration: none

  .background
    background-image: url('../res/left.jpg')
    background-size: cover
    background-position: center
    background-repeat: no-repeat

// 移动端按钮 (旧的桌面端按钮样式已移入侧边栏，此处样式不再需要用于桌面端定位)
a
  &.button-collapse // 这个类名主要由 Materialize 用于移动端
    &.top-nav // 这个类可能只用于移动端了
      // 保留移动端可能需要的样式，但移除桌面端定位相关的
      position: absolute // 可能仅移动端需要
      text-align: center
      height: 48px
      width: 48px
      top: 0 // 可能仅移动端需要
      // float: none // float可能不再需要
      color: #fff
      font-size: 36px
      z-index: 999 // 确保移动端按钮在最上层
      line-height: 110px // 调整为与header一致，或根据移动端实际情况调整
      // 确保在非大屏幕上显示
      @media only screen and (min-width: 993px)
        display: none !important // 在大屏幕上隐藏移动端按钮


// nav 规则
nav
  .page-title
    font-size: 48px
    font-weight: bold
    line-height: 110px
    font-family: 'Ephesis', cursive
    background-image: linear-gradient(to right, #ff0000, #ffa500, #ffff00, #008000, #0000ff, #4b0082, #ee82ee)
    -webkit-background-clip: text
    background-clip: text
    color: transparent !important

nav
  &.top-nav
    height: 110px

// Footer
footer.page-footer
  margin-top: 10px

  .row
    margin-bottom: 0px

  p
    margin-top: 5px

// Misc
blockquote
  border-left-color: teal

// --- 小屏幕 (< 992px) 样式 ---
@media only screen and (max-width: 992px)
  header,
  main,
  footer
    padding-left: 0 !important // 小屏幕时移除侧边栏宽度影响

  nav
    .nav-wrapper
      text-align: center

// --- 更小屏幕 (< 600px) 样式 ---
@media only screen and (max-width: 600px)
  nav
    .page-title
      font-size: 20px

// --- 侧边栏固定样式 ---
ul#slide-out.side-nav.fixed
  background-color: #f5f5f5

// --- 背景替换规则 ---
header nav.top-nav.teal
  background-color: transparent !important
  background-image: url('../res/top.jpg')
  background-size: cover
  background-position: center
  background-repeat: no-repeat

footer.page-footer.teal
  background-color: transparent !important
  background-image: url('../res/top.jpg')
  background-size: cover
  background-position: center
  background-repeat: no-repeat


header nav.top-nav .page-title
  color: #FFFFFF

footer.page-footer .grey-text.text-lighten-4
  color: #e0e0e0 !important

footer.page-footer .footer-copyright .container
  color: #e0e0e0

// --- 桌面端可收起侧边栏样式 ---
$sidebar-width: 300px
$sidebar-collapsed-width: 70px
$sidebar-transition-speed: 0.3s

@media only screen and (min-width: 993px) // 仅在大屏幕应用

  #slide-out.side-nav.fixed
    width: $sidebar-width
    transform: translateX(0)
    transition: width $sidebar-transition-speed ease
    overflow-x: hidden

    // 用户信息区域样式
    .userView
      padding: 32px 32px 15px 32px
      transition: padding $sidebar-transition-speed ease
      .background
      .circle
        width: 64px
        height: 64px
        transition: width $sidebar-transition-speed ease, height $sidebar-transition-speed ease
      .name, .email
        opacity: 1
        transition: opacity 0.1s ease $sidebar-transition-speed

    // 所有 li 内的 a 标签基础样式
    li
      a
        display: flex         // 改为 flex 布局以对齐图标和文字
        align-items: center   // 垂直居中
        height: 48px          // 标准 Materialize 高度
        // line-height: 48px     // flex 布局下通常不需要 line-height 对齐
        padding: 0 24px       // 默认展开时的 padding
        white-space: nowrap   // 防止文字换行

        i.material-icons
          margin-right: 32px    // 图标和文字的间距
          transition: margin-right $sidebar-transition-speed ease // 平滑过渡

        .nav-text
          opacity: 1
          transition: opacity 0.1s ease $sidebar-transition-speed // 文本渐隐过渡

      // 针对切换按钮 li 的特殊样式 (假设 li 的 id 为 sidebar-toggle-item)
      &#sidebar-toggle-item
        a#sidebar-toggle-button // 选择按钮 a 标签
          // 继承上方 li a 的大部分样式
          i.material-icons
            // 继承上方 li a i 的 margin-right
            color: #616161 // 可以设置按钮图标颜色，如果需要的话

  // 主内容区域的左边距
  header, main, footer
    padding-left: $sidebar-width
    transition: padding-left $sidebar-transition-speed ease

  // --- 收起状态下的样式 ---
  body.sidebar-collapsed

    #slide-out.side-nav.fixed
      width: $sidebar-collapsed-width // 收起后的宽度

      // 用户信息区域收起样式
      .userView
        padding: 15px 0
        text-align: center
        .name, .email
          opacity: 0
          height: 0
          display: none
        .circle
          width: 48px
          height: 48px
          margin: 0 auto

      // *** 修复点：调整此处的 li 和 #sidebar-toggle-item 的层级 ***
      // 收起时所有 li 内的 a 标签样式
      li // 这个 li 应用于所有侧边栏项
        a // 这个 a 应用于所有侧边栏项内的链接
          justify-content: center // 水平居中图标
          padding: 0 12px      // 调整收起时的 padding

          i.material-icons
            margin-right: 0      // 收起时移除右边距

          // 收起时隐藏文字
          .nav-text
            opacity: 0
            width: 0
            overflow: hidden

      // 针对切换按钮 li 的特殊样式 (现在与上面的 li 同级，嵌套在 #slide-out 下)
      li#sidebar-toggle-item // 确保这个选择器选中了正确的 li
        a#sidebar-toggle-button
          // 样式应该继承自上面的通用 li a 规则，无需重复或覆盖
          // 如果需要特定覆盖，可以在这里添加，例如：
          // background-color: #eee // 仅为示例


    // 主内容区域在侧边栏收起后的左边距
    header, main, footer
      padding-left: $sidebar-collapsed-width