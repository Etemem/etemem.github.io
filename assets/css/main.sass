---
---
// Overall
body
  display: flex
  min-height: 100vh
  flex-direction: column

a
  color: #bdbdbd

a:hover
  text-decoration: underline

a:active
  text-decoration: underline

main
  flex: 1 0 auto
  background-image: url('../res/subtle.jpg') !important
  background-repeat: repeat
  background-size: auto
  background-position: center

// --- 移除之前的固定 padding-left ---
// header,
// main,
// footer
//  padding-left: 300px

// --- 修正：确保 .container 顶格，没有行首缩进 ---
.container // <--- 确保这一行前面没有任何空格或 Tab
  width: 90%

// Header
header // <--- 顶格
  height: 110px

  a:hover // 正确嵌套
    text-decoration: none

  .background // 正确嵌套在 header 下
    background-image: url('../res/left.jpg')
    background-size: cover
    background-position: center
    background-repeat: no-repeat

// 移动端按钮 (顶格 a, 内部 & 嵌套)
a
  &.button-collapse
    &.top-nav
      position: absolute
      text-align: center
      height: 48px
      width: 48px
      top: 0
      float: none
      color: #fff
      font-size: 36px
      z-index: 999
      line-height: 110px

// nav 规则 (顶格 nav, 内部嵌套)
nav
  .page-title
    font-size: 48px
    font-weight: bold
    line-height: 110px
    font-family: 'Ephesis', cursive
    background-image: linear-gradient(to right, #ff0000, #ffa500, #ffff00, #008000, #0000ff, #4b0082, #ee82ee)
    -webkit-background-clip: text
    background-clip: text
    color: transparent !important

nav // 同上，可以合并
  &.top-nav
    height: 110px

// Footer (顶格 footer, 内部嵌套)
footer.page-footer
  margin-top: 10px

  .row
    margin-bottom: 0px

  p
    margin-top: 5px

// Misc (顶格 blockquote)
blockquote
  border-left-color: teal

// --- 小屏幕 (< 992px) 样式 ---
@media only screen and (max-width: 992px) // 顶格 @media
  header, // 正确嵌套
  main,
  footer
    padding-left: 0 !important

  nav // 正确嵌套
    .nav-wrapper // 正确嵌套
      text-align: center

// --- 更小屏幕 (< 600px) 样式 ---
@media only screen and (max-width: 600px) // 顶格 @media
  nav // 正确嵌套
    .page-title // 正确嵌套
      font-size: 20px

// --- 侧边栏固定样式 ---
ul#slide-out.side-nav.fixed // 顶格 ul
  background-color: #f5f5f5

// --- 背景替换规则 ---
header nav.top-nav.teal // 顶格 header
  background-color: transparent !important
  background-image: url('../res/top.jpg')
  background-size: cover
  background-position: center
  background-repeat: no-repeat

footer.page-footer.teal // 顶格 footer
  background-color: transparent !important
  background-image: url('../res/top.jpg')
  background-size: cover
  background-position: center
  background-repeat: no-repeat

// --- 文字颜色确保可见 ---
header nav.top-nav .page-title // 顶格 header
  color: #FFFFFF

footer.page-footer .grey-text.text-lighten-4 // 顶格 footer
  color: #e0e0e0 !important

footer.page-footer .footer-copyright .container // 顶格 footer
  color: #e0e0e0

// --- 桌面端可收起侧边栏样式 ---
$sidebar-width: 300px // 顶格变量
$sidebar-collapsed-width: 70px
$sidebar-transition-speed: 0.3s

@media only screen and (min-width: 993px) // 顶格 @media

  #slide-out.side-nav.fixed // 正确嵌套
    width: $sidebar-width
    transform: translateX(0)
    transition: width $sidebar-transition-speed ease
    overflow-x: hidden

    li a // 正确嵌套
      display: flex
      align-items: center
      padding: 0 24px
      white-space: nowrap

      i.material-icons // 正确嵌套
        margin-right: 32px
        transition: margin-right $sidebar-transition-speed ease

      .nav-text // 正确嵌套
        opacity: 1
        transition: opacity 0.1s ease $sidebar-transition-speed

    .userView // 正确嵌套
      padding: 32px 32px 15px 32px
      transition: padding $sidebar-transition-speed ease
      .background
      .circle
        width: 64px
        height: 64px
        transition: width $sidebar-transition-speed ease, height $sidebar-transition-speed ease
      .name, .email
        opacity: 1
        transition: opacity 0.1s ease $sidebar-transition-speed

  header, main, footer // 正确嵌套
    padding-left: $sidebar-width
    transition: padding-left $sidebar-transition-speed ease

  body.sidebar-collapsed // 正确嵌套

    #slide-out.side-nav.fixed // 正确嵌套
      width: $sidebar-collapsed-width

      .userView // 正确嵌套
        padding: 15px 0
        text-align: center
        .name, .email
          opacity: 0
          height: 0
          display: none
        .circle
          width: 48px
          height: 48px
          margin: 0 auto

      li a // 正确嵌套
        justify-content: center
        padding: 0 12px

        i.material-icons // 正确嵌套
          margin-right: 0

        .nav-text // 正确嵌套
          opacity: 0
          width: 0
          overflow: hidden

    header, main, footer // 正确嵌套
      padding-left: $sidebar-collapsed-width

// --- 结束新增 ---